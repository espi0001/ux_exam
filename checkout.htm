<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">

    <title>Checkout | UX SHOP</title>


    <!-- CSS -->
    <link rel="stylesheet" href="css/checkout.css">

    <!-- JS -->
    <script src="js/loginCheck.js" type="module"></script>
    <script src="js/logout.js" type="module"></script>
    <script src="js/cartCounter.js" type="module"></script>
    <script src="js/checkout.js" type="module"></script>

</head>

<body>
    <header>
        <div>
            <h1 class="logo"><a href="index.html">UX SHOP</a></h1>

            <nav class="all_products_desk">
                <div>
                    <a href="index.html" title="All products" class="">All products</a>
                </div>
            </nav>
        </div>

        <nav>
            <ul>
                <li id="login"><a href="login.htm" title="Log in" class="btn primary_btn">Log in</a></li>
                <li id="signup"><a href="signup.htm" title="Sign up" class="btn secondary_btn">Sign up</a></li>
                <li id="logout" class="hidden"><button id="btnLogout" class="btn secondary_btn">Log out</button></li>
                <li id="cart" class="hidden">
                    <a href="cart.htm" title="Cart" class="cart_nav" aria-label="Cart">
                        <img src="assets/icons/cart_big.svg" alt="Cart icon" aria-hidden="true">
                        <span id="cartCounter" class="cart-counter" aria-live="polite"
                            aria-label="Items in cart">0</span>
                    </a>
                </li>
            </ul>
        </nav>

        <nav class="all_products_mobile">
            <div>
                <a href="index.html" title="All products">All products</a>
            </div>
        </nav>
    </header>

    <main>
        <div class="backBtn">
            <a href="" id="backBtn">&larr; Go back</a>
        </div>
        <section class="auth-form auth-container">
            <header>
                <h2>Checkout</h2>
                <p>Enter your information below to proceed.
                </p>
            </header>
            <form id="frmCheckout">
                <fieldset>
                    <legend>Delivery address</legend>

                    <div class="form-group">
                        <label for="txtDeliveryFullName">Full name</label>
                        <input type="text" id="txtDeliveryFullName" name="txtDeliveryFullName"
                            maxlength="40" 
                            pattern="^(?=.*[A-Za-zÀ-ÿ].*[A-Za-zÀ-ÿ])[A-Za-zÀ-ÿ' -]+$"
                            autocomplete="name"
                            title="Enter at least two letters. Spaces and hyphens are allowed."
                            required>
                            <!-- redundant to have aria-required="true" -->
                    </div>

                    <div class="form-group">
                        <label for="txtDeliveryAddress">Address</label>
                        <input type="text" id="txtDeliveryAddress" name="txtDeliveryAddress"
                            pattern="^(?=.*[A-Za-zÀ-ÿ])(?=.*\d).{2,}$"
                            title="Address must include a street name and number."
                            required>
                    </div>
                </fieldset>


                <fieldset>
                    <legend>Billing address</legend>
                    <div class="form-group">
                        <label for="txtBillingFullName">Full name</label>
                        <input type="text" id="txtBillingFullName" name="txtBillingFullName"
                            maxlength="40" 
                            pattern="^(?=.*[A-Za-zÀ-ÿ].*[A-Za-zÀ-ÿ])[A-Za-zÀ-ÿ' -]+$"
                            autocomplete="name"
                            title="Enter at least two letters. Spaces and hyphens are allowed."
                            required>
                    </div>

                    <div class="form-group">
                        <label for="txtBillingAddress">Address</label>
                        <input type="text" id="txtBillingAddress" name="txtBillingAddress"
                            pattern="^(?=.*[A-Za-zÀ-ÿ])(?=.*\d).{2,}$"
                            title="Address must include a street name and number."
                            required>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Payment</legend>

                    <div class="form-group">
                        <label for="txtCardHolder">Card holder</label>
                        <input type="text" id="txtCardHolder" name="txtCardHolder" 
                            maxlength="40" 
                            pattern="^(?=.*[A-Za-zÀ-ÿ].*[A-Za-zÀ-ÿ])[A-Za-zÀ-ÿ' -]+$"
                            autocomplete="cc-name"
                            title="Enter at least two letters. Spaces and hyphens are allowed."
                            required>
                    </div>

                    <div class="form-group">
                        <label for="txtCardNumber">Credit card number</label>
                        <input type="text" id="txtCardNumber" name="txtCardNumber" 
                            inputmode="numeric" 
                            autocomplete="cc-number"
                            pattern="[\d ]{14,19}"
                            placeholder="0000 0000 0000 0000" 
                            title="Credit card number must be 12–16 digits."
                            required>
                    </div>

                    <div class="form-group expiry_security_wrapper">
                        <div class="expiry_date">
                            <label for="txtExpiryDate">Expiry date</label>
                            <input type="text" id="txtExpiryDate" name="txtExpiryDate" 
                                inputmode="numeric" 
                                maxlength="5"
                                autocomplete="cc-exp"
                                pattern="(0[1-9]|1[0-2])\/\d{2}"
                                placeholder="MM/YY" 
                                title="Use MM/YY format (e.g. 05/27)."
                                required>
                        </div>

                        <div class="security_code">
                            <label for="txtSecurityCode">Security code</label>
                            <input type="text" id="txtSecurityCode" name="txtSecurityCode" 
                                inputmode="numeric" 
                                autocomplete="cc-csc"
                                minlength="3"
                                maxlength="3"
                                pattern="\d{3}"
                                title="Security code must be 3 digits."
                                placeholder="000" 
                                required>
                        </div>
                    </div>
                    
                </fieldset>
                
                <div class="form-group" id="checkoutBtn">
                    <button type="submit" class="btn primary_btn">Pay <span id="checkoutTotal"></span></button>
                </div>
            </form>
        </section>
    </main>

    <footer>
        <header>
            <h2 class="logo"><a href="index.html"><span>UX</span> SHOP</a></h2>
        </header>

        <p>&copy; 2025 UX Shop. All rights reserved.</p>
    </footer>

    <!-- DIALOG for error or success -->
    <dialog id="mdlInfo">
        <div id="closeBtn">
            <button type="button" class="close" aria-label="Close dialog">&times;</button>
        </div>
        <header>
            <h1 id="modalTitle"></h1>
        </header>

        <p id="modalText"></p>

        <div class="a_wrapper hidden" id="modalAction">
            <a class="btn primary_btn" id="modalLink" href="#"></a>
        </div>
    </dialog>
</body>

</html>